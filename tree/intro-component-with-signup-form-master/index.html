<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- displays site properly based on user's device -->

	<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

	<title>Frontend Mentor | Intro component with sign up form</title>

	<!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
	<link rel="stylesheet" href="style.css">

</head>

<body>
	<div class="container">
		<div class="intro">
			<h2 class="heading">Learn to code by watching others</h2>

			<p class="para">See how experienced developers solve problems in real-time. Watching scripted tutorials is
				great,
				but understanding how developers think is invaluable.
			</p>
		</div>
		<!--Intro End-->

		<div class="outro">
			<div class="offer">Try it free 7 days <span class="less-vsbl">then $20/mo. thereafter</span> </div>

			<form id="form">
				<input type="text" placeholder="First Name" id="fname">
				<span id="fname-txt"></span>

				<input type="text" placeholder="Last Name" id="lname">
				<span id="lname-txt"></span>

				<input type="email" id="email" placeholder="Email Address" onkeyup="validation()">
				<span id="email-txt"></span>

				<input type="password" id="pass" placeholder="Password">
				<span id="pass-txt"></span>

				<button>Claim your free trial</button>

				<p class="t-n-s">By clicking the button, you are agreeing to our <span class="in-red">Terms and
						Services</span></p>
			</form>
		</div>
		<!--Outro End-->
	</div>

	<script defer>
		var form = document.getElementById('form')
		form.addEventListener('submit', (e) => {
			e.preventDefault();

			var fname = document.getElementById('fname').value
			var fname_txt = document.getElementById('fname-txt')
			if (fname == ""){
				fname_txt.innerHTML = "First Name cannot be empty"	
				form.classList.add('invalid')
			}
			else {
				fname_txt.innerHTML = ""
			}
			
			var lname = document.getElementById('lname').value
			var lname_txt = document.getElementById('lname-txt')
			if (lname == ""){
				lname_txt.innerHTML = "Last Name cannot be empty"
				form.classList.add('invalid')
			}
			else {
				lname_txt.innerHTML = ""
			}

			var pass = document.getElementById('pass').value
			var pass_txt = document.getElementById('pass-txt')
			if (pass == ""){
				pass_txt.innerHTML = "Password cannot be empty"
				form.classList.add('invalid')
			}
			else {
				pass_txt.innerHTML = ""
			}
			
			var email = document.getElementById('email').value
			var email_txt = document.getElementById('email-txt')
			if (email == "") {
				form.classList.add('invalid')
				email_txt.innerHTML = "Email cannot be empty"
			}

		})

		validation = function () {

			var email = document.getElementById('email').value
			var email_txt = document.getElementById('email-txt')

			var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/

			if (email.match(pattern)) {
				form.classList.add('valid')
				form.classList.remove('invalid')
				email_txt.innerHTML = ""
			}
			else {
				form.classList.remove('valid')
				form.classList.add('invalid')
				email_txt.innerHTML = "Looks like this is not an email"
				email_txt.style.color = '#f96262'
			}
			if (email == "") {
				form.classList.add('valid')
				form.classList.remove('invalid')
				email_txt.innerHTML = ""
			}
		}
	</script>
</body>

</html>